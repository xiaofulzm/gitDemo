<!doctype html><!-- 着重强调这是一个HTML模板 -->
<html lang="en"><!-- 页面的所有内容，涵盖整体（人） -->
	 <head><!-- 灵魂，储存的是页面的基础信息（标题，编码格式 ） -->
		  <meta charset="UTF-8"><!-- 支持中文的外国码 -->
		  <meta name="Generator" content="EditPlus®">
		  <meta name="Author" content="小夫"><!-- 作者 -->
		  <meta name="Keywords" content=""><!-- 关键词： 到底有哪些东西进行总结，进行分类 -->
		  <meta name="Description" content=""><!-- 页面的描述 -->
		  <title>小夫的模板</title><!-- 页面标题 -->
			<style>
				body,h1,h2,h3,h4,h5,h6,p,ul,dl,ol,p{
					margin: 0;
					font-size: 16px;
					line-height: normal;
				}
				a{
					color: #000;
					text-decoration: none;
				}
				ul,dl{
					padding: 0;
					list-style-type: none;
				}
				input{
					margin: 0;
					padding: 0;
					outline: none;  /* border */
				}
				.clearfix:after{
					display: block;
					content: "";
					height: 0;
					font-size: 0;
					clear: both;
					overflow: hidden;
				}
				table{
					width: 1000px;
					border-collapse: collapse;
					border-color: #930;
					margin: 50px auto 0;
					user-select: none;
				}
				table tr td{
					width: 250px;
					height: 100px;
					text-align: center;
				}
				table tr.title td{
					height: 50px;
					background: #c36;
					color: #fff;
					font-weight: bold;
					font-size: 14px;
				}
				table tr td img{
					display: block;
					width: auto;
					height: 70px;
					margin: 0 auto;
				}
				table tr td.number span{
					display: inline-block;
					font-size: 12px;
					text-align: center;
				}
				table tr td.number span.down,table tr td.number span.add{
					width: 30px;
					height: 30px;
					background: #ddd;
					line-height: 30px;
					cursor: pointer;
					font-weight: bold;
					font-size: 14px;
				}
				table tr td.number span.num{
					width: 50px;
					height: 28px;
					border-top: 1px solid #ddd;
					border-bottom: 1px solid #ddd;
					line-height: 28px;
					color: #c36;
				}
				.box{
					width: 1000px;
					height: 50px;
					background: #c36;
					margin: 10px auto;
				}
				.box p{
					float: right;
					width: 250px;
					height: 50px;
					line-height: 50px;
					color: #fff;
					font-size: 14px;
				}
				.box p span{
					color: #f4e5a9;
					font-size: 16px;
					font-weight: bold;
				}
			</style>
	</head>
	 <body><!-- 肉体,储存了页面的具体内容表现 -->
		<table border="1">
        <thead></thead>
        <tbody>
            <tr class="title">
                <td>商品</td>
                <td>单价</td>
                <td>数量</td>
                <td>小计</td>
            </tr>
            <tr>
                <td><img src="https://afeifeifei.github.io/class-demo/js-demo/2-08-03/img/shop1.jpg" alt=""></td>
                <td class="danjia">8</td>
                <td class="number"><span class="down">-</span><span class="num">0</span><span class="add">+</span></td>
                <td class="price">0</td>
            </tr>
            <tr>
                <td><img src="https://afeifeifei.github.io/class-demo/js-demo/2-08-03/img/shop2.jpg" alt=""></td>
                <td class="danjia">10</td>
                <td class="number"><span class="down">-</span><span class="num">0</span><span class="add">+</span></td>
                <td class="price">0</td>
            </tr>
            <tr>
                <td><img src="https://afeifeifei.github.io/class-demo/js-demo/2-08-03/img/shop3.jpg" alt=""></td>
                <td class="danjia">12.5</td>
                <td class="number"><span class="down">-</span><span class="num">0</span><span class="add">+</span></td>
                <td class="price">0</td>
            </tr>
            <tr>
                <td><img src="https://afeifeifei.github.io/class-demo/js-demo/2-08-03/img/shop4.jpg" alt=""></td>
                <td class="danjia">23</td>
                <td class="number"><span class="down">-</span><span class="num">0</span><span class="add">+</span></td>
               <td class="price">0</td>
            </tr>
        </tbody>
    </table>

    <div class="box">
        <p class="totalPrice">合计费用： <span>0</span> ￥</p>
        <p class="totalNum">已选中商品： <span>0</span> 个</p>
    </div>
	<script>
		//获取元素
		var aDown = document.querySelectorAll(".down"),
			aAdd = document.querySelectorAll(".add"),  
			aNum = document.querySelectorAll(".num"),
			aPrice = document.querySelectorAll(".price"),
			oTotalprice = document.querySelector(".totalPrice span"),
			oTotalNum = document.querySelector(".totalNum span");
		//获取辅助变量
		len =aAdd.length;
		//模拟数据
		var DATA= [
		{dj:8, num: 0},
		{dj:10, num: 0},
		{dj:12.5, num: 0},
		{dj:23, num: 0},
		];
		//添加事件
		/*for (var i = 0;i<len ;i++ ){
			// +按钮添加事件
			//	储存对应按钮的序号
			aAdd[i].index = i;
			aAdd[i].onclick = function (){
				var ind  = this.index; //当前操作商品的序号
				var thisData =DATA[ind]; //当前商品的对应信息
				aNum[ind].innerText = ++thisData.num; //改变商品的数量
				aPrice[ind].innerText = thisData.num*thisData.dj; //计算小计的价格
			//计算总价
				var tNum = 0, tPrice = 0;
				for(var j = 0;j<len ;j++ ){
					tNum += DATA[j].num;
					tPrice += DATA[j].dj*DATA[j].num;
				}
				oTotalNum.innerText = tNum;
				oTotalprice.innerText = tPrice;
			}
			// -按钮添加事件
			//	储存对应按钮的序号
			aDown[i].index = i;
			aDown[i].onclick = function (){
				var ind  = this.index; //当前操作商品的序号
				var thisData =DATA[ind]; //当前商品的对应信息
				aNum[ind].innerText = thisData.num ? (--thisData.num) : 0 ; //改变商品的数量
				aPrice[ind].innerText = thisData.num*thisData.dj; //计算小计的价格
			//计算总价
				var tNum = 0, tPrice = 0;
				for(var j = 0;j<len ;j++ ){
					tNum += DATA[j].num;
					tPrice += DATA[j].dj*DATA[j].num;
				}
				oTotalNum.innerText = tNum;
				oTotalprice.innerText = tPrice;
			}*/
			 function change(bool,ind){
				var thisData =DATA[ind]; //当前商品的对应信息
				//根据按钮传过来的布尔值来确定增加还是减少
				if (bool){
					thisData.num++;
				}else{
					thisData.num--;
					if(thisData.num< 0){thisData.num = 0};
				}
				aNum[ind].innerText = thisData.num; //改变商品的数量
				aPrice[ind].innerText = thisData.num*thisData.dj; //计算小计的价格
			//计算总价
				var tNum = 0, tPrice = 0;
				for(var j = 0;j<len ;j++ ){
					tNum += DATA[j].num;
					tPrice += DATA[j].dj*DATA[j].num;
				}
				oTotalNum.innerText = tNum;
				oTotalprice.innerText = tPrice;
			}
			for (var i = 0;i<len ;i++ ){
				// +按钮添加事件
				//储存对应按钮的序号
				aAdd[i].index = i;
				aDown[i].index = i;
				//+
				aAdd[i].onclick = function (){
					//var ind  = this.index; //当前操作商品的序号
					change(true,this.index);
				}
				//-
				aDown[i].onclick = function (){
					//var ind  = this.index; //当前操作商品的序号
					change(false,this.index);
				}
				
			}
	</script>
	 </body>
</html> <!-- 结束标签-->
